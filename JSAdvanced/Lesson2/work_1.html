<!doctype html>
<html>
 <head>
    <title>Lab 3</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
     <style>
         li {font-size: 22px;}
         li:hover {cursor:pointer;}
     </style>
     <script src="../js/script.js"></script>
 </head>
<body>
<div class="container">
<ul id="results"></ul>
<h1 id="res"></h1>

<div class="row">
    <div class="col-sm-3">
        <ul id="list" class="list-group">
            <li id="op" class="list-group-item text-center">1</li>
            <li id="op" class="list-group-item text-center">2</li>
            <li id="op" class="list-group-item text-center">3</li>
            <li id="op" class="list-group-item text-center">4</li>
            <li id="op" class="list-group-item text-center">5</li>
        </ul>
        <h1 id="res"></h1>
    </div>
</div>

<script>
/*
При клике на любой элемент li мы в alert() получаем цифру 5

Задачи
1. С помощью debugger проанализировать почему так получается ?
2. С помощью замыкания сделать так, чтобы при клике на элемент
   li получали его номер
3. Выполнить задачу 2 но при этом используя объявление
   итерационной переменной через let
*/


//var d = document, 
//        list = d.getElementById('list'),
//        els = list.getElementsByTagName('li'),
//        len = els.length;
//let rez = document.getElementById('res');
//console.log(els);
//
//
//for (var i = 0; i < len; i++) {
//    els[i].onclick = function(){
//        rez.innerHTML += els[i].textContent;
//        //alert(k);
//    };
//}
document.addEventListener("DOMContentLoaded", () => {
        let lishes = document.querySelectorAll('li');

        function moduleCreator() {
            let rez = '';
            return {
                handler: function(e){
                    //arr.push(e.target.id);
                    rez += e.target.textContent;
                    alert(rez);
                    rez = '';
                }
            }
        }

        let moduleItem = moduleCreator();
        window.module = moduleItem;
        
        lishes.forEach(li=>{
            li.addEventListener('click',moduleItem.handler);
        })
    })







</script>
</div>
</body>
</html>